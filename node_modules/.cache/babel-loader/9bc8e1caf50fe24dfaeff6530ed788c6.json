{"remainingRequest":"/Users/tangjun/www/system-admin/node_modules/thread-loader/dist/cjs.js!/Users/tangjun/www/system-admin/node_modules/babel-loader/lib/index.js!/Users/tangjun/www/system-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/tangjun/www/system-admin/src/router/index.js","dependencies":[{"path":"/Users/tangjun/www/system-admin/src/router/index.js","mtime":1545997077318},{"path":"/Users/tangjun/www/system-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tangjun/www/system-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tangjun/www/system-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tangjun/www/system-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport routes from './routes';\nVue.use(VueRouter);\nvar router = new VueRouter({\n  // mode:'history',\n  routes: routes\n}); //if (process.env.NODE_ENV === \"production\") router.base = window.location.pathname\n//前置导航守卫\n\nrouter.beforeEach(function (to, from, next) {\n  var app = router.app;\n  var store = app.$options.store;\n  var auth = store.state.auth.auth;\n\n  if (!auth && to.path !== '/login') {\n    next('/login');\n  } else if (auth && to.path === '/login') {\n    next(from.path);\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/tangjun/www/system-admin/src/router/index.js"],"names":["Vue","VueRouter","routes","use","router","beforeEach","to","from","next","app","store","$options","auth","state","path"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,MAAM,GAAG,IAAIH,SAAJ,CAAc;AAC5B;AACCC,EAAAA,MAAM,EAANA;AAF2B,CAAd,CAAf,C,CAKA;AAEA;;AACAE,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACrC,MAAMC,GAAG,GAAGL,MAAM,CAACK,GAAnB;AACA,MAAMC,KAAK,GAAGD,GAAG,CAACE,QAAJ,CAAaD,KAA3B;AACA,MAAME,IAAI,GAAGF,KAAK,CAACG,KAAN,CAAYD,IAAZ,CAAiBA,IAA9B;;AAEA,MAAI,CAACA,IAAD,IAASN,EAAE,CAACQ,IAAH,KAAY,QAAzB,EAAkC;AACjCN,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACA,GAFD,MAEO,IAAII,IAAI,IAAIN,EAAE,CAACQ,IAAH,KAAY,QAAxB,EAAiC;AACvCN,IAAAA,IAAI,CAACD,IAAI,CAACO,IAAN,CAAJ;AACA,GAFM,MAEA;AACNN,IAAAA,IAAI;AACJ;AACD,CAZD;AAcA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport routes from './routes'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n // mode:'history',\n  routes\n})\n\n//if (process.env.NODE_ENV === \"production\") router.base = window.location.pathname\n\n//前置导航守卫\nrouter.beforeEach((to, from, next) => {\n\tconst app = router.app\n\tconst store = app.$options.store\n\tconst auth = store.state.auth.auth\n\n\tif (!auth && to.path !== '/login'){\n\t\tnext('/login')\n\t} else if (auth && to.path === '/login'){\n\t\tnext(from.path);\n\t} else {\n\t\tnext()\n\t}\n})\n\nexport default router\n"]}]}